{"id":"firestore\/documentsnapshot","type":"","title":"Google\\Cloud\\Firestore\\DocumentSnapshot","name":"DocumentSnapshot","description":"<p>Represents the data of a document at the time of retrieval.<\/p>\n<p>A snapshot is immutable and may point to a non-existing document.<\/p>\n<p>Fields may be read in array-style syntax. Note that writing using array-style\nsyntax is NOT supported and will result in a <code>\\BadMethodCallException<\/code>.<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Firestore\\FirestoreClient;\n\n$firestore = new FirestoreClient();\n$document = $firestore->document('users\/john');\n$snapshot = $document->snapshot();"},{"caption":"<p>Fields are exposed via array-style accessors:<\/p>","code":"$bitcoinWalletValue = $snapshot['wallet']['cryptoCurrency']['bitcoin'];"}],"resources":[],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Firestore\/src\/DocumentSnapshot.php#L77","description":"","examples":[],"resources":[],"params":[{"name":"reference","description":"<p>The document which created the snapshot.<\/p>","types":["<a data-custom-type=\"firestore\/documentreference\">Google\\Cloud\\Firestore\\DocumentReference<\/a>"],"optional":false,"nullable":null},{"name":"valueMapper","description":"<p>A Firestore Value Mapper.<\/p>","types":["<a data-custom-type=\"firestore\/valuemapper\">Google\\Cloud\\Firestore\\ValueMapper<\/a>"],"optional":false,"nullable":null},{"name":"info","description":"<p>Document information, such as create and update timestamps.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"data","description":"<p>Document field data.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>"],"optional":false,"nullable":null},{"name":"exists","description":"<p>Whether the document exists in the Firestore database.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"reference","type":"instance","name":"reference","source":"Firestore\/src\/DocumentSnapshot.php#L101","description":"<p>Get the reference of the document which created the snapshot.<\/p>","examples":[{"caption":"","code":"$reference = $snapshot->reference();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"firestore\/documentreference\">Google\\Cloud\\Firestore\\DocumentReference<\/a>"],"description":""}]},{"id":"name","type":"instance","name":"name","source":"Firestore\/src\/DocumentSnapshot.php#L123","description":"<p>Get the document name.<\/p>\n<p>Names are absolute. The result of this call would be of the form\n<code>projects\/&lt;project-id&gt;\/databases\/&lt;database-id&gt;\/documents\/&lt;relative-path&gt;<\/code>.<\/p>\n<p>Other methods are available to retrieve different parts of a collection name:<\/p>\n<ul>\n<li><a data-custom-type=\"firestore\/documentsnapshot\" data-method=\"id\">Google\\Cloud\\Firestore\\DocumentSnapshot::id()<\/a> Returns the last element.<\/li>\n<li><a data-custom-type=\"firestore\/documentsnapshot\" data-method=\"path\">Google\\Cloud\\Firestore\\DocumentSnapshot::path()<\/a> Returns the path, relative to the database.<\/li>\n<\/ul>","examples":[{"caption":"","code":"$name = $snapshot->name();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"path","type":"instance","name":"path","source":"Firestore\/src\/DocumentSnapshot.php#L143","description":"<p>Get the document path.<\/p>\n<p>Paths identify the location of a document, relative to the database name.<\/p>\n<p>To retrieve the document ID (the last element of the path), use\n<a data-custom-type=\"firestore\/documentsnapshot\" data-method=\"id\">Google\\Cloud\\Firestore\\DocumentSnapshot::id()<\/a>.<\/p>","examples":[{"caption":"","code":"$path = $snapshot->path();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"id","type":"instance","name":"id","source":"Firestore\/src\/DocumentSnapshot.php#L162","description":"<p>Get the document identifier (i.e. the last path element).<\/p>\n<p>IDs are the path element which identifies a resource. To retrieve the\nfull path to a resource (the resource name), use\n<a data-custom-type=\"firestore\/documentsnapshot\" data-method=\"name\">Google\\Cloud\\Firestore\\DocumentSnapshot::name()<\/a>.<\/p>","examples":[{"caption":"","code":"$id = $snapshot->id();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"description":""}]},{"id":"updateTime","type":"instance","name":"updateTime","source":"Firestore\/src\/DocumentSnapshot.php#L177","description":"<p>Get the Document Update Timestamp.<\/p>","examples":[{"caption":"","code":"$updateTime = $snapshot->updateTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"core\/timestamp\">Google\\Cloud\\Core\\Timestamp<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"readTime","type":"instance","name":"readTime","source":"Firestore\/src\/DocumentSnapshot.php#L194","description":"<p>Get the Document Read Timestamp.<\/p>","examples":[{"caption":"","code":"$readTime = $snapshot->readTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"core\/timestamp\">Google\\Cloud\\Core\\Timestamp<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"createTime","type":"instance","name":"createTime","source":"Firestore\/src\/DocumentSnapshot.php#L211","description":"<p>Get the Document Create Timestamp.<\/p>","examples":[{"caption":"","code":"$createTime = $snapshot->createTime();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"core\/timestamp\">Google\\Cloud\\Core\\Timestamp<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"data","type":"instance","name":"data","source":"Firestore\/src\/DocumentSnapshot.php#L228","description":"<p>Returns document data as an array, or null if the document does not exist.<\/p>","examples":[{"caption":"","code":"$data = $snapshot->data();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"exists","type":"instance","name":"exists","source":"Firestore\/src\/DocumentSnapshot.php#L247","description":"<p>Returns true if the document exists in the database.<\/p>","examples":[{"caption":"","code":"if ($snapshot->exists()) {\n    echo \"The document exists!\";\n}"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.boolean.php\" target=\"_blank\">bool<\/a>"],"description":""}]},{"id":"get","type":"instance","name":"get","source":"Firestore\/src\/DocumentSnapshot.php#L276","description":"<p>Get a field by field path.<\/p>\n<p>A field path is a string containing the path to a specific field, at the\ntop level or nested, delimited by <code>.<\/code>. For instance, the value <code>hello<\/code> in\nthe structured field <code>{ \"foo\" : { \"bar\" : \"hello\" }}<\/code> would be accessible\nusing a field path of <code>foo.bar<\/code>.<\/p>","examples":[{"caption":"","code":"$value = $snapshot->get('wallet.cryptoCurrency.bitcoin');"},{"caption":"<p>Field names containing dots or symbols can be targeted using a FieldPath instance:<\/p>","code":"use Google\\Cloud\\Firestore\\FieldPath;\n\n$value = $snapshot->get(new FieldPath(['wallet', 'cryptoCurrency', 'my.coin']));"}],"resources":[],"params":[{"name":"fieldPath","description":"<p>The field path to return.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>","<a data-custom-type=\"firestore\/fieldpath\">Google\\Cloud\\Firestore\\FieldPath<\/a>"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":"if the field path does not exist."}],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.pseudo-types.php#language.types.mixed\" target=\"_blank\">mixed<\/a>"],"description":""}]}]}