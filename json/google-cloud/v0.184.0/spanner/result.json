{"id":"spanner\/result","type":"","title":"Google\\Cloud\\Spanner\\Result","name":"Result","description":"<p>Represent a Cloud Spanner lookup result (either read or executeSql).<\/p>","examples":[{"caption":"","code":"use Google\\Cloud\\Spanner\\SpannerClient;\n\n$spanner = new SpannerClient();\n\n$database = $spanner->connect('my-instance', 'my-database');\n$result = $database->execute('SELECT * FROM Posts');"}],"resources":[{"title":"ResultSet","link":"https:\/\/cloud.google.com\/spanner\/docs\/reference\/rpc\/google.spanner.v1#google.spanner.v1.ResultSet"}],"methods":[{"id":"__construct","type":"constructor","name":"__construct","source":"Spanner\/src\/Result.php#L133","description":"","examples":[],"resources":[],"params":[{"name":"operation","description":"<p>Runs operations against Google Cloud Spanner.<\/p>","types":["<a data-custom-type=\"spanner\/operation\">Google\\Cloud\\Spanner\\Operation<\/a>"],"optional":false,"nullable":null},{"name":"session","description":"<p>The session used for any operations executed.<\/p>","types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"optional":false,"nullable":null},{"name":"call","description":"<p>A callable, yielding a generator filled with results.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.callable.php\" target=\"_blank\">callable<\/a>"],"optional":false,"nullable":null},{"name":"transactionContext","description":"<p>The transaction's context.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null},{"name":"mapper","description":"<p>Maps values.<\/p>","types":["<a data-custom-type=\"spanner\/valuemapper\">Google\\Cloud\\Spanner\\ValueMapper<\/a>"],"optional":false,"nullable":null},{"name":"retries","description":"<p>Number of attempts to resume a broken stream, assuming\na resume token is present. <strong>Defaults to<\/strong> 3.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.integer.php\" target=\"_blank\">int<\/a>"],"optional":false,"nullable":null}],"exceptions":[],"returns":[]},{"id":"rows","type":"instance","name":"rows","source":"Spanner\/src\/Result.php#L175","description":"<p>Return the formatted and decoded rows. If the stream is interrupted and\na resume token is available, attempts will be made on your behalf to\nresume.<\/p>","examples":[{"caption":"","code":"$rows = $result->rows();"}],"resources":[],"params":[{"name":"format","description":"<p>Determines the format in which rows are returned.\n<code>Result::RETURN_NAME_VALUE_PAIR<\/code> returns items as a\nmulti-dimensional array containing a name and a value key.\nEx: <code>[0 =&gt; ['name' =&gt; 'column1', 'value' =&gt; 'my_value']]<\/code>.\n<code>Result::RETURN_ASSOCIATIVE<\/code> returns items as an associative array\nwith the column name as the key. Please note with this option, if\nduplicate column names are present a <code>\\RuntimeException<\/code> will be\nthrown. <code>Result::RETURN_ZERO_INDEXED<\/code> returns items as a 0 indexed\narray, with the key representing the column number as found by\nexecuting <a data-custom-type=\"spanner\/result\" data-method=\"columns\">Google\\Cloud\\Spanner\\Result::columns()<\/a>. Ex:\n<code>[0 =&gt; 'my_value']<\/code>. <strong>Defaults to<\/strong> <code>Result::RETURN_ASSOCIATIVE<\/code>.<\/p>","types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.string.php\" target=\"_blank\">string<\/a>"],"optional":false,"nullable":null}],"exceptions":[{"type":"\\InvalidArgumentException","description":"When an invalid format is provided."},{"type":"\\RuntimeException","description":"When duplicate column names exist with a\nselected format of `Result::RETURN_ASSOCIATIVE`."}],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/class.generator.php\" target=\"_blank\">Generator<\/a>"],"description":""}]},{"id":"columns","type":"instance","name":"columns","source":"Spanner\/src\/Result.php#L266","description":"<p>Return column names.<\/p>\n<p>Will be populated once the result set is iterated upon.<\/p>","examples":[{"caption":"","code":"$columns = $result->columns();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"metadata","type":"instance","name":"metadata","source":"Spanner\/src\/Result.php#L285","description":"<p>Return result metadata.<\/p>\n<p>Will be populated once the result set is iterated upon.<\/p>","examples":[{"caption":"","code":"$metadata = $result->metadata();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":"<p><a href=\"https:\/\/cloud.google.com\/spanner\/docs\/reference\/rpc\/google.spanner.v1#google.spanner.v1.ResultSetMetadata\">ResultSetMetadata<\/a>.<\/p>"}]},{"id":"session","type":"instance","name":"session","source":"Spanner\/src\/Result.php#L300","description":"<p>Return the session associated with the result stream.<\/p>","examples":[{"caption":"","code":"$session = $result->session();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/session\/session\">Google\\Cloud\\Spanner\\Session\\Session<\/a>"],"description":""}]},{"id":"stats","type":"instance","name":"stats","source":"Spanner\/src\/Result.php#L334","description":"<p>Get the query plan and execution statistics for the query that produced\nthis result set.<\/p>\n<p>By default, statistics are returned by default only when executing a DML\nstatement. To receive statistics for a SELECT statement, set\n<code>$options.queryMode<\/code> to <code>Result::MODE_PROFILE<\/code>, as demonstrated below.<\/p>\n<p>Setting <code>$options.queryMode<\/code> to <code>Result::MODE_PLAN<\/code> will return the query\nplan without any results or execution statistics information.<\/p>","examples":[{"caption":"","code":"$stats = $result->stats();"},{"caption":"<p>Executing a query with stats returned.<\/p>","code":"use Google\\Cloud\\Spanner\\Result;\n\n$res = $database->execute('SELECT * FROM Posts', [\n    'queryMode' => Result::MODE_PROFILE\n]);"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a href=\"http:\/\/php.net\/manual\/en\/language.types.array.php\" target=\"_blank\">array<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":"<p><a href=\"https:\/\/cloud.google.com\/spanner\/docs\/reference\/rpc\/google.spanner.v1#google.spanner.v1.ResultSetStats\">ResultSetStats<\/a>.<\/p>"}]},{"id":"snapshot","type":"instance","name":"snapshot","source":"Spanner\/src\/Result.php#L351","description":"<p>Returns a snapshot which was begun in the read or execute, if one exists.<\/p>\n<p>Will be populated once the result set is iterated upon.<\/p>","examples":[{"caption":"","code":"$snapshot = $result->snapshot();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/snapshot\">Google\\Cloud\\Spanner\\Snapshot<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]},{"id":"transaction","type":"instance","name":"transaction","source":"Spanner\/src\/Result.php#L368","description":"<p>Returns a transaction which was begun in the read or execute, if one exists.<\/p>\n<p>Will be populated once the result set is iterated upon.<\/p>","examples":[{"caption":"","code":"$transaction = $result->transaction();"}],"resources":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"spanner\/transaction\">Google\\Cloud\\Spanner\\Transaction<\/a>","<a href=\"http:\/\/php.net\/manual\/en\/language.types.null.php\" target=\"_blank\">null<\/a>"],"description":""}]}]}