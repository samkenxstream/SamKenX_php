{"id":"bigquerystorage\/v1\/readme","type":"guide","title":"Google BigQuery Storage V1 generated client for PHP","name":"Google BigQuery Storage V1 generated client for PHP","description":"<body>\n<h3>Sample<\/h3>\n<pre><code class=\"language-php\">require 'vendor\/autoload.php';\n\nuse Google\\Cloud\\BigQuery\\Storage\\V1\\BigQueryReadClient;\nuse Google\\Cloud\\BigQuery\\Storage\\V1\\DataFormat;\nuse Google\\Cloud\\BigQuery\\Storage\\V1\\ReadSession;\nuse Google\\Cloud\\BigQuery\\Storage\\V1\\ReadSession\\TableReadOptions;\n\n$client = new BigQueryReadClient();\n\n$project = sprintf(\n    'projects\/%s',\n    '[MY_PROJECT_ID]'\n);\n$table = sprintf(\n    'projects\/%s\/datasets\/%s\/tables\/%s',\n    'bigquery-public-data',\n    'usa_names',\n    'usa_1910_current'\n);\n$readOptions = (new TableReadOptions())\n    -&gt;setRowRestriction('state = \"WA\"');\n$readSession = (new ReadSession())\n    -&gt;setTable($table)\n    -&gt;setDataFormat(DataFormat::AVRO)\n    -&gt;setReadOptions($readOptions);\n$session = $client-&gt;createReadSession([\n    'parent' =&gt; $project,\n    'readSession' =&gt; $readSession,\n    'maxStreamCount' =&gt; 1\n]);\n\n$stream = $client-&gt;readRows([\n    'readStream' =&gt; $session-&gt;getStreams()[0]-&gt;getName()\n]);\n\nforeach ($stream-&gt;readAll() as $response) {\n    printf(\n        'Discovered %s rows in response.' . PHP_EOL,\n        $response-&gt;getRowCount()\n    );\n}<\/code><\/pre><\/body>","methods":[]}